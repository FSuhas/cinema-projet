<script>
  if (window.location.pathname == '/infos') {
    body.style = 'height: calc(100vh); background: linear-gradient(110deg, rgb(184 184 184) 10%, rgb(255 255 255) 50%, rgba(184 184 184) 90%);';
  }
</script>
<div class="container" style="display: flex;justify-content: center;align-items: center;">
  <h1>Mes infos</h1>
  <br><br><br><br><br>
</div>
<div class="container">
  <div class="infos" style="width: 100%;">
    <button type="button" data-bs-toggle="modal" data-bs-target="#infos" style="border: none; margin-top: 1rem; margin-bottom: 1rem;width: 100%;">
      <p> <i class="fa-solid fa-cake-candles"></i> : <%= @user.date_de_naissance %></p>
      <p> <i class="fa-solid fa-venus-mars"></i> : <%= @user.sexe %></p>
      <p> <i class="fa-solid fa-map-location-dot"></i> : <%= @user.adresse %></p>
      <p> <i class="fa-solid fa-phone"></i> : <%= @user.telephone %></p>
      <p> <i class="fa-solid fa-envelope"></i> : <%= @user.email %></p>
    </button>
  </div>
</div>

<!-- Modal Infos -->

<div class="modal fade" id="infos" tabindex="-1" aria-labelledby="bioLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="container">
        <h2>Edit </h2>
        <%= simple_form_for(infos_path, data: {turbo_method: 'post'}) do |f| %>
          <div class="form-inputs">
            <%= f.input :date_de_naissance,
                        as: :date,
                        required: true,
                        html5: true,
                        label: false %>
            <%= f.input :sexe,
                        collection: User::SEXE,
                        label: false,
                        required: true,
                        placeholder: "Genre" %>
            <%= f.input :adresse,
                        required: true,
                        label: false,
                        placeholder: "3 rue de ..." %>
            <%= f.input :telephone,
                        label: false,
                        required: true,
                        placeholder: "06.xx.xx.xx.xx" %>
            <%= f.input :email,
                        label: false,
                        required: true,
                        placeholder: "exemple@gmail.com" %>
          </div>
          <div class="form-actions">
            <%= f.button :submit, "Update", class: 'btn btn-primary' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>


<% if current_user.role === 'candidat' %>
  <%= render 'shared/retourposts' %>
<% else %>
<div class="container" style="display: flex;justify-content: center;position: fixed; bottom: 2rem;">
  <%= link_to profiles_path(@user) do %>
    <i class="fa-solid fa-clapperboard" style="font-size: 50px; color: black"></i>
  <% end %>
</div>
<% end %>
